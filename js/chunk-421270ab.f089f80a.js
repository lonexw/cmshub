(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-421270ab"],{"34d6":function(e,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"userAssets"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paginator"}},type:{kind:"NamedType",name:{kind:"Name",value:"PaginatorInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"more"}},type:{kind:"NamedType",name:{kind:"Name",value:"AssetPaginatorInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userAssets"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paginator"},value:{kind:"Variable",name:{kind:"Name",value:"paginator"}}},{kind:"Argument",name:{kind:"Name",value:"more"},value:{kind:"Variable",name:{kind:"Name",value:"more"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"file_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updated_at"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"userCreateBatchAsset"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AssetInput"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userCreateBatchAsset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[]}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"userDeleteBatchAsset"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ids"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userDeleteBatchAsset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"ids"}}}],directives:[]}]}}],loc:{start:0,end:460}};i.loc.source={body:"query userAssets($paginator: PaginatorInput\n  $more: AssetPaginatorInput) {\n  userAssets(paginator: $paginator\n    more: $more) {\n    items {\n      id,\n      name,\n      url,\n      file_size,\n      type,\n      created_at,\n      updated_at\n    },\n    cursor {\n      total\n    }\n  }\n}\n\nmutation userCreateBatchAsset($data: [AssetInput!]!) {\n  userCreateBatchAsset(data: $data)\n}\n\nmutation userDeleteBatchAsset($ids: [Int]!) {\n  userDeleteBatchAsset(ids: $ids)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,n)})),e.definitions&&e.definitions.forEach((function(e){a(e,n)}))}var t={};function s(e,n){for(var i=0;i<e.definitions.length;i++){var a=e.definitions[i];if(a.name&&a.name.value==n)return a}}function r(e,n){var i={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=t[n]||new Set,r=new Set,d=new Set;a.forEach((function(e){d.add(e)}));while(d.size>0){var o=d;d=new Set,o.forEach((function(e){if(!r.has(e)){r.add(e);var n=t[e]||new Set;n.forEach((function(e){d.add(e)}))}}))}return r.forEach((function(n){var a=s(e,n);a&&i.definitions.push(a)})),i}(function(){i.definitions.forEach((function(e){if(e.name){var n=new Set;a(e,n),t[e.name.value]=n}}))})(),e.exports=i,e.exports["userAssets"]=r(i,"userAssets"),e.exports["userCreateBatchAsset"]=r(i,"userCreateBatchAsset"),e.exports["userDeleteBatchAsset"]=r(i,"userDeleteBatchAsset")},"7af6":function(e,n,i){"use strict";var a=i("c6e0"),t=i.n(a);t.a},bc4c:function(e,n,i){"use strict";i.r(n);var a=function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",[i("a-layout",{staticStyle:{"background-color":"white","margin-right":"240px"}},[i("a-layout-content",[i("div",{staticClass:"content-body padding-lr-sm"},[i("a-form-model",{ref:"form",attrs:{layout:"vertical",model:e.form}},[i("a-form-model-item",{attrs:{label:"",prop:"url"}},[i("batch-upload",{attrs:{data:{id:1}},on:{change:e.handleChange}})],1)],1)],1)]),i("div",{staticClass:"flex justify-center margin-top"},[i("a-button",{attrs:{type:"primary",loading:e.submit_loading},on:{click:e.handleUpload}},[e._v("创建")])],1)],1)],1)},t=[],s=(i("4160"),i("b0c0"),i("159b"),i("34d6")),r=i("ca00"),d=i("4360"),o=i("a3be"),l=i("2af9"),u={components:{BatchUpload:l["c"]},data:function(){return{fileList:[],form:this.$form.createForm(this),submit_loading:!1}},created:function(){},methods:{goSchema:function(){this.$router.push({name:"Schema"})},handleChange:function(e){this.fileList=e},handleUpload:function(e){var n=this;e.preventDefault();var i=this;if(0!=this.fileList.length){var a=[];this.fileList.forEach((function(e){a.push({name:e.name,url:e.url,type:e.mime,file_size:e.size,is_system:"false"})})),i.$apollo.mutate({mutation:s["userCreateBatchAsset"],variables:{data:a},fetchPolicy:"no-cache",context:{uri:o["a"].projectUri+d["a"].state.common.currentProject.id}}).then((function(){i.$router.push({path:"/content"})})).catch((function(e){n.$message.warning(Object(r["a"])(e.message))}))}else this.$message.warning("请上传文件")}}},c=u,m=(i("7af6"),i("2877")),v=Object(m["a"])(c,a,t,!1,null,"2380427b",null);n["default"]=v.exports},c6e0:function(e,n,i){}}]);