(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27c688f6"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},1673:function(e,t,n){},"34d6":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"userAssets"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paginator"}},type:{kind:"NamedType",name:{kind:"Name",value:"PaginatorInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"more"}},type:{kind:"NamedType",name:{kind:"Name",value:"AssetPaginatorInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userAssets"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paginator"},value:{kind:"Variable",name:{kind:"Name",value:"paginator"}}},{kind:"Argument",name:{kind:"Name",value:"more"},value:{kind:"Variable",name:{kind:"Name",value:"more"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"file_size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updated_at"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"userCreateBatchAsset"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AssetInput"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userCreateBatchAsset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[]}]}}],loc:{start:0,end:376}};n.loc.source={body:"query userAssets($paginator: PaginatorInput\n  $more: AssetPaginatorInput) {\n  userAssets(paginator: $paginator\n    more: $more) {\n    items {\n      id,\n      name,\n      url,\n      file_size,\n      type,\n      created_at,\n      updated_at\n    },\n    cursor {\n      total\n    }\n  }\n}\n\nmutation userCreateBatchAsset($data: [AssetInput!]!) {\n  userCreateBatchAsset(data: $data)\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function o(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,r=new Set;a.forEach((function(e){r.add(e)}));while(r.size>0){var c=r;r=new Set,c.forEach((function(e){if(!o.has(e)){o.add(e);var t=i[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return o.forEach((function(t){var a=s(e,t);a&&n.definitions.push(a)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}}))})(),e.exports=n,e.exports["userAssets"]=o(n,"userAssets"),e.exports["userCreateBatchAsset"]=o(n,"userCreateBatchAsset")},"392a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-page",{attrs:{title:"内容"},scopedSlots:e._u([{key:"sider",fn:function(){return[n("a-menu",e._l(e.customs,(function(t,a){return n("a-menu-item",{key:a,on:{click:e.menuClick}},[e._v(" "+e._s(t.zh_name)+" ")])})),1)]},proxy:!0},{key:"content",fn:function(){return[e.show_list?n("contents",{attrs:{custom:e.selectCustom},on:{update:e.update}}):e._e(),e.show_update?n("update-content",{attrs:{data:e.content,custom:e.selectCustom,model:"Admin"},on:{cancel:e.cancelUpdate}}):e._e()]},proxy:!0}])})},i=[],s=(n("4160"),n("159b"),n("2af9")),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relative"},[n("header",{staticClass:"padding-lr-sm padding-tb-xs flex align-center justify-between solid-bottom line-grey"},[n("bg-tag",{attrs:{active:!0}},[e._v(e._s(e.custom?e.custom.name:""))]),n("a-button",{attrs:{type:"primary"},on:{click:e.add}},[n("a-icon",{attrs:{type:"plus"}}),e._v("新增 ")],1)],1),n("div",{staticClass:"flex align-center padding-lr-sm solid-bottom line-grey",staticStyle:{height:"36px"}},[n("span",{staticClass:"margin-right-sm"},[e._v(e._s(e.select_num)+" 选中")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.select_num>0,expression:"select_num > 0"}],staticClass:"flex"},[n("bg-tag",{staticClass:"text-red"},[n("a-icon",{staticClass:"margin-right-xxs",attrs:{type:"delete"}}),e._v(" 删除 ")],1),n("bg-tag",{staticClass:"text-green"},[n("a-icon",{staticClass:"margin-right-xxs",attrs:{type:"up-square"}}),e._v(" 发布 ")],1),n("bg-tag",{staticClass:"text-yellow"},[n("a-icon",{staticClass:"margin-right-xxs",attrs:{type:"close-square"}}),e._v(" 不发布 ")],1)],1)]),e.data.length>0?n("a-table",{staticClass:"content-table",attrs:{size:"middle",rowKey:"id",rowSelection:e.rowSelection,columns:e.columns,dataSource:e.data,pagination:!1,scroll:{x:1200,y:"calc(100vh - 210px)",scrollToFirstRowOnChange:!0}}}):e._e(),n("div",{staticClass:"flex justify-center margin-top-sm"},[n("a-pagination",{attrs:{showSizeChanger:"",showQuickJumper:"",total:e.total,showTotal:function(e){return"共 "+e+" 条"},pageSize:e.search.paginator.limit,defaultCurrent:1,pageSizeOptions:["10","30","50","100"]},on:{showSizeChange:e.showSizeChange}})],1),0==e.data.length?n("a-empty",{staticClass:"empty-content"}):e._e()],1)},r=[];n("c975"),n("b0c0"),n("ac1f"),n("841c"),n("fb6a"),n("dca8");function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l=n("438c"),u=n("ca00"),d=n("4360"),m=n("a3be"),f=n("9530"),h=n.n(f),v=n("4c87");function p(){var e=c(["query "," ($paginator: PaginatorInput, $more: ","PaginatorInput) { \n            "," (paginator: $paginator, more: $more) { \n            items { \n              ","\n            },\n            cursor { total } \n            }\n          }"]);return p=function(){return e},e}var g={name:"Contents",props:{custom:{}},components:{BgTag:s["d"],PreviewImage:v["a"]},data:function(){var e=this,t={onChange:function(t,n){console.log("selectedRowKeys: ".concat(t),"selectedRows: ",n),e.select_num=n.length},onSelect:function(e,t,n){console.log(e,t,n)},onSelectAll:function(e,t,n){console.log(e,t,n)}};return{rowSelection:t,columns:[],data:[],fields:[],fieldNames:[],select_num:0,show_create:!1,total:30,search:{paginator:{page:1,limit:30}}}},created:function(){},computed:{},mounted:function(){this.getFieldList()},methods:{add:function(){this.$emit("update")},showSizeChange:function(e,t){this.search.paginator.limit=t},getFieldList:function(){var e=this,t=this.$createElement;this.data=[];var n=this;n.$apollo.query({query:l["userFields"],variables:{more:{custom_id:n.custom.id}},fetchPolicy:"no-cache"}).then((function(a){var i=a.data.userFields.items,s=[],o=[],r=[];i.forEach((function(e){"__typename"!=e.name&&(s.push(e),"ASSET"==e.type?r.push({title:e.zh_name,dataIndex:e.name,customRender:function(n,a){if(e.is_mutiple){var i=null;return a[e.name+"Asset"].forEach((function(e){e&&(i+=t("img",{attrs:{src:e.url}}))})),i}var s=a[e.name+"Asset"];if(s){var o=a[e.name+"Asset"].url;return a[e.name+"Asset"].type.indexOf("image")>-1?t("preview-image",{attrs:{src:o,height:"30px"}}):o}return""}}):r.push({title:e.zh_name,dataIndex:e.name}),o.push(e.name))})),n.fields=s,n.columns=r,n.fieldNames=o,e.getContentList()})).catch((function(t){e.$message.warning(Object(u["a"])(t.message))}))},getContentList:function(){var e=this;this.data=[];var t=this,n="user"+t.custom.plural_name,a="id";t.fields.forEach((function(e){a+=",".concat(e.name),"ASSET"==e.type&&(a+=",".concat(e.name,"Asset {\n            created_at,\n            updated_at,\n            id,\n            name,\n            url,\n            type\n          }"))})),t.$apollo.query({query:h()(p(),n,t.custom.name,n,a),variables:t.search,fetchPolicy:"no-cache",context:{uri:m["a"].projectUri+d["a"].state.common.currentProject.id}}).then((function(e){t.data=e.data[n].items,t.total=e.data[n].cursor.total})).catch((function(t){e.$message.warning(Object(u["a"])(t.message))}))}}},k=g,b=(n("581c"),n("559b"),n("2877")),y=Object(b["a"])(k,o,r,!1,null,"52ccfe46",null),S=y.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-layout",{staticClass:"layout"},[n("a-layout",{staticStyle:{"background-color":"white","margin-right":"240px"}},[n("a-layout-header",{staticClass:"header light",staticStyle:{height:"50px","line-height":"50px"}},[n("div",{staticClass:"flex align-center padding-lr-sm text-bold pointer text-black",on:{click:e.cancel}},[n("a-icon",{staticClass:"margin-right-xs",attrs:{type:"left"}}),e._v(" 创建 "+e._s(e.model)+" ")],1)]),n("a-layout-content",[n("div",{staticClass:"content-body padding-lr-sm"},[n("a-form-model",{ref:"createForm",attrs:{layout:"vertical",model:e.form,rules:e.rules}},[e._l(e.fields,(function(t,a){return["SINGLE_TEXT"==t.type?[n("a-form-model-item",{key:a,attrs:{label:t.zh_name,prop:t.name}},[n("a-input",{attrs:{placeholder:"请输入"+t.zh_name},model:{value:e.form[t.name],callback:function(n){e.$set(e.form,t.name,n)},expression:"form[item.name]"}})],1)]:"MULTI_TEXT"==t.type?[n("a-form-model-item",{key:a,attrs:{label:t.zh_name,prop:t.name}},[n("a-input",{attrs:{type:"textarea",placeholder:"请输入"+t.zh_name},model:{value:e.form[t.name],callback:function(n){e.$set(e.form,t.name,n)},expression:"form[item.name]"}})],1)]:"RICH_TEXT"==t.type?[n("a-form-model-item",{key:a,attrs:{label:t.zh_name,prop:t.name}},[n("WangEditor",{attrs:{name:t.name},on:{change:e.richValueChange},model:{value:e.form[t.name],callback:function(n){e.$set(e.form,t.name,n)},expression:"form[item.name]"}})],1)]:"ASSET"==t.type?[n("a-form-model-item",{key:a,attrs:{label:t.zh_name,prop:t.name}},[e._l(e.form[t.name],(function(a,i){return n("div",{key:i},[n("tag",{attrs:{closable:""},on:{close:function(n){return e.removeAsset(a,t.name)}}},[e._v(e._s(a.name))])],1)})),n("a-button",{on:{click:function(n){return e.showAssetDialog(t)}}},[e._v("选择")])],2)]:e._e()]}))],2)],1)])],1),n("a-layout-sider",{staticClass:"right-sider sider light padding-xs",style:{overflow:"auto",height:"100vh",position:"fixed",right:0,backgroundColor:"rgb(250, 250, 252)"}},[n("div",[n("a-button",{staticClass:"margin-right-xs",attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")]),n("a-button",{attrs:{type:"danger"},on:{click:e.submit}},[e._v("保存并发布")])],1),n("div",{staticClass:"text-df margin-tb"},[n("div",{staticClass:"margin-bottom-xs"},[e._v("信息")]),e.data.id?n("div",{staticClass:"text-sm text-grey"},[n("div",{staticClass:"flex justify-between"},[n("span",[e._v("创建")]),n("span",[e._v("2020-04-09 18:17:54")])]),n("div",{staticClass:"flex justify-between"},[n("span",[e._v("更新")]),n("span",[e._v("2020-04-09 18:17:54")])])]):n("div",{staticClass:"text-sm text-grey margin-left-xs",staticStyle:{"font-style":"italic"}},[e._v("保存后显示")])]),n("div",{staticClass:"margin-tb"},[n("div",{staticClass:"text-df margin-bottom-xs"},[e._v("发布于")]),e.data.id?n("div",{staticClass:"flex justify-between align-center padding-xs solid line-grey shadow radius",staticStyle:{"background-color":"white"}},[n("span",{staticClass:"text-sm"},[e._v("2020-04-09 18:25:11")]),n("a-tooltip",{attrs:{placement:"bottomRight"}},[n("template",{slot:"title"},[n("span",[e._v("取消发布")])]),n("a-icon",{staticClass:"pointer",staticStyle:{color:"red"},attrs:{type:"delete",theme:"filled"}})],2)],1):n("div",{staticClass:"text-sm text-grey margin-left-xs",staticStyle:{"font-style":"italic"}},[e._v("尚未发布")])])]),n("a-modal",{attrs:{maskClosable:!1,width:e.assetModal.width,title:e.assetModal.title,visible:e.assetModal.visible,footer:null},on:{cancel:e.closeAssetDialog}},[n("asset-picker",{attrs:{"form-name":e.assetModal.item.name,"is-mutiple":e.assetModal.item.is_mutiple},on:{selectChange:e.assetSelectChange}}),n("div",{staticStyle:{"text-align":"right"}},[n("a-button",{staticClass:"margin-right-sm",on:{click:e.closeAssetDialog}},[e._v("关闭")])],1)],1)],1)},_=[],w=(n("a15b"),n("b2a3"),n("a54e"),n("92fa")),x=n.n(w),N=n("6042"),E=n.n(N),A=n("4d91"),$=n("0c63"),F=n("94eb"),j=n("0464"),O=n("a9d4"),T=n("daa3"),z=n("b488"),D=n("4df5"),P=n("6a21"),I=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"],q=new RegExp("^("+I.join("|")+")(-inverse)?$"),V={name:"ATag",mixins:[z["a"]],model:{prop:"visible",event:"close.visible"},props:{prefixCls:A["a"].string,color:A["a"].string,closable:A["a"].bool.def(!1),visible:A["a"].bool,afterClose:A["a"].func},inject:{configProvider:{default:function(){return D["a"]}}},data:function(){var e=!0,t=Object(T["k"])(this);return"visible"in t&&(e=this.visible),Object(P["a"])(!("afterClose"in t),"Tag","'afterClose' will be deprecated, please use 'close' event, we will remove this in the next version."),{_visible:e}},watch:{visible:function(e){this.setState({_visible:e})}},methods:{setVisible:function(e,t){this.$emit("close",t),this.$emit("close.visible",!1);var n=this.afterClose;n&&n(),t.defaultPrevented||Object(T["r"])(this,"visible")||this.setState({_visible:e})},handleIconClick:function(e){e.stopPropagation(),this.setVisible(!1,e)},isPresetColor:function(){var e=this.$props.color;return!!e&&q.test(e)},getTagStyle:function(){var e=this.$props.color,t=this.isPresetColor();return{backgroundColor:e&&!t?e:void 0}},getTagClassName:function(e){var t,n=this.$props.color,a=this.isPresetColor();return t={},E()(t,e,!0),E()(t,e+"-"+n,a),E()(t,e+"-has-color",n&&!a),t},renderCloseIcon:function(){var e=this.$createElement,t=this.$props.closable;return t?e($["a"],{attrs:{type:"close"},on:{click:this.handleIconClick}}):null}},render:function(){var e=arguments[0],t=this.$props.prefixCls,n=this.configProvider.getPrefixCls,a=n("tag",t),i=this.$data._visible,s=e("span",x()([{directives:[{name:"show",value:i}]},{on:Object(j["a"])(Object(T["j"])(this),["close"])},{class:this.getTagClassName(a),style:this.getTagStyle()}]),[this.$slots["default"],this.renderCloseIcon()]),o=Object(F["a"])(a+"-zoom",{appear:!1});return e(O["a"],[e("transition",o,[s])])}},R={name:"ACheckableTag",model:{prop:"checked"},props:{prefixCls:A["a"].string,checked:Boolean},inject:{configProvider:{default:function(){return D["a"]}}},computed:{classes:function(){var e,t=this.checked,n=this.prefixCls,a=this.configProvider.getPrefixCls,i=a("tag",n);return e={},E()(e,""+i,!0),E()(e,i+"-checkable",!0),E()(e,i+"-checkable-checked",t),e}},methods:{handleClick:function(){var e=this.checked;this.$emit("input",!e),this.$emit("change",!e)}},render:function(){var e=arguments[0],t=this.classes,n=this.handleClick,a=this.$slots;return e("div",{class:t,on:{click:n}},[a["default"]])}},L=n("db14");V.CheckableTag=R,V.install=function(e){e.use(L["a"]),e.component(V.name,V),e.component(V.CheckableTag.name,V.CheckableTag)};var M=V,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relative"},[n("header",{staticClass:"padding-lr-sm padding-tb-xs flex align-center justify-between solid-bottom line-grey"},[n("bg-tag",{attrs:{active:!0}},[e._v("Asset")])],1),e.data.length>0?n("a-table",{staticClass:"content-table",attrs:{size:"middle",rowKey:"id",columns:e.columns,dataSource:e.data,pagination:!1,scroll:{x:1200,y:"calc(100vh - 10px)",scrollToFirstRowOnChange:!0}},scopedSlots:e._u([{key:"url",fn:function(t,a){return[a.type.indexOf("image")>-1?n("preview-image",{attrs:{src:t,height:"30px"}}):n("span",[e._v(e._s(t))])]}},{key:"action",fn:function(t){return[n("a",{on:{click:function(n){return e.selectItem(t)}}},[e._v("选择")])]}}],null,!1,2458453533)}):e._e(),n("div",{staticClass:"flex justify-center margin-top-sm"},[n("a-pagination",{attrs:{showSizeChanger:"",showQuickJumper:"",total:e.total,showTotal:function(e){return"共 "+e+" 条"},pageSize:e.search.paginator.limit,defaultCurrent:1,pageSizeOptions:["10","30","50","100"]},on:{showSizeChange:e.showSizeChange}})],1),0==e.data.length?n("a-empty",{staticClass:"empty-content"}):e._e()],1)},U=[],Q=n("34d6"),G={name:"AssetPicker",props:{formName:{type:String,default:""},isMutiple:{type:Boolean,default:!1}},components:{BgTag:s["d"],PreviewImage:v["a"]},data:function(){var e=this,t=[{title:"文件名",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"预览",dataIndex:"url",scopedSlots:{customRender:"url"}},{title:"大小",dataIndex:"file_size"},{title:"上传时间",dataIndex:"created_at"},{title:"选择",key:"action",scopedSlots:{customRender:"action"}}],n={onChange:function(t,n){console.log("selectedRowKeys: ".concat(t),"selectedRows: ",n),e.select_num=n.length},onSelect:function(t,n,a){console.log(t,n,a),e.$emit("selectChange",t,e.formName,e.isMutiple)},onSelectAll:function(e,t,n){console.log(e,t,n)}};return{rowSelection:n,columns:t,data:[],select_num:0,show_create:!1,total:30,search:{paginator:{page:1,limit:10}}}},computed:{},mounted:function(){this.getList()},methods:{showSizeChange:function(e,t){this.search.paginator.limit=t},getList:function(){var e=this,t=this;t.$apollo.query({query:Q["userAssets"],variables:t.search,fetchPolicy:"no-cache",context:{uri:m["a"].projectUri+d["a"].state.common.currentProject.id}}).then((function(e){t.data=e.data.userAssets.items,t.total=e.data.userAssets.cursor.total})).catch((function(t){e.$message.warning(Object(u["a"])(t.message))}))},selectItem:function(e){this.$emit("selectChange",e,this.formName,this.isMutiple)}}},K=G,J=(n("f79b"),n("a766"),Object(b["a"])(K,B,U,!1,null,"2aa34798",null)),W=J.exports;function X(){var e=c(["mutation "," ($data: ","Input!) { \n                "," (data: $data) {\n                  ","\n                }\n              }"]);return X=function(){return e},e}var H={name:"UpdateContent",props:{data:{type:Object,default:function(){return{}}},custom:{},model:{type:String,required:!0}},components:{AreaUpload:s["a"],WangEditor:s["g"],AssetPicker:W,Tag:M},data:function(){return{form:{},fields:[],fieldNames:[],rules:{},loading:!0,loadingMore:!1,showLoadingMore:!0,assetData:[],assetModal:{title:"选择关联附件",visible:!1,width:"80%",item:{}}}},computed:{},mounted:function(){this.getFieldList()},methods:{cancel:function(){this.$emit("cancel")},submit:function(){var e=this,t=this;this.$refs.createForm.validate((function(n){if(!n)return!1;var a={};console.log(t.form),t.fields.forEach((function(e){if("ASSET"==e.type){var n=[];e.is_mutiple?(t.form[e.name].forEach((function(e){n.push(e.id)})),a[e.name]=n):a[e.name]=t.form[e.name].length>0?t.form[e.name][0].id:""}else a[e.name]=t.form[e.name]}));var i="userCreate"+t.custom.name;t.$apollo.mutate({mutation:h()(X(),i,t.custom.name,i,t.fieldNames.join(",")),variables:{data:a},fetchPolicy:"no-cache",context:{uri:m["a"].projectUri+d["a"].state.common.currentProject.id}}).then((function(){e.$emit("cancel")})).catch((function(t){e.$message.warning(Object(u["a"])(t.message))}))}))},getFieldList:function(){var e=this,t=this;t.$apollo.query({query:l["userFields"],variables:{more:{custom_id:t.custom.id}},fetchPolicy:"no-cache"}).then((function(e){var n=e.data.userFields.items,a=[],i=[],s={};n.forEach((function(e){a.push(e),i.push(e.name),e.is_required&&(s[e.name]=[{required:!0,message:"请输入"+e.zh_name,trigger:"blur"}])})),t.rules=s,t.fields=a,t.fieldNames=i})).catch((function(t){e.$message.warning(Object(u["a"])(t.message))}))},richValueChange:function(e){var t=e[0],n=e[1];this.form[n]=t},showAssetDialog:function(e){this.assetModal.item=e,this.assetModal.visible=!0},closeAssetDialog:function(){this.assetModal.visible=!1},assetSelectChange:function(e,t,n){if(n){var a=!1;this.form[t].forEach((function(t){t.id==e.id&&(a=!0)})),a||this.form[t].push(e)}else this.form[t]=[e],this.closeAssetDialog()},removeAsset:function(e,t){var n=[];this.form[t].forEach((function(t){t.id!=e.id&&n.push(t)})),this.form[t]=n}}},Y=H,Z=(n("4002"),Object(b["a"])(Y,C,_,!1,null,"9a2e4ce6",null)),ee=Z.exports,te=n("f9eb"),ne={components:{UpdateContent:ee,Contents:S,BasePage:s["b"]},data:function(){return{content:{id:1},show_list:!1,selectedTags:[],customs:[],selectCustom:null,show_update:!1,show_models:!0,models_height:"0px"}},computed:{toggleDirection:function(){return this.show_models?"down":"right"}},mounted:function(){this.getCustomList()},methods:{getCustomList:function(){var e=this,t=this;t.$apollo.query({query:te["userCustoms"],variables:{},fetchPolicy:"no-cache"}).then((function(e){var n=e.data.userCustoms.items,a=[];n.forEach((function(e){a.push(Object.assign(e,{active:!1}))})),t.customs=a})).catch((function(t){e.$message.warning(Object(u["a"])(t.message))}))},menuClick:function(e){this.selectCustom=null,this.show_list=!1,this.show_update=!1;var t=this;setTimeout((function(){t.selectCustom=t.customs[e.key],t.show_list=!0}),100)},cancelUpdate:function(){this.show_update=!1,this.show_list=!0},update:function(e){this.show_list=!1,this.content=e||{};var t=this;setTimeout((function(){t.show_update=!0}),100)}}},ae=ne,ie=(n("9f7e"),Object(b["a"])(ae,a,i,!1,null,"766cee68",null));t["default"]=ie.exports},4002:function(e,t,n){"use strict";var a=n("1673"),i=n.n(a);i.a},"438c":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"userFields"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paginator"}},type:{kind:"NamedType",name:{kind:"Name",value:"PaginatorInput"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"more"}},type:{kind:"NamedType",name:{kind:"Name",value:"FieldPaginatorInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userFields"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paginator"},value:{kind:"Variable",name:{kind:"Name",value:"paginator"}}},{kind:"Argument",name:{kind:"Name",value:"more"},value:{kind:"Variable",name:{kind:"Name",value:"more"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zh_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_required"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:250}};n.loc.source={body:"query userFields($paginator: PaginatorInput,\n  $more: FieldPaginatorInput) {\n  userFields(paginator: $paginator, more: $more) {\n    items {\n      id,\n      name,\n      zh_name,\n      type,\n      is_required\n    },\n    cursor {\n      total\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function o(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,r=new Set;a.forEach((function(e){r.add(e)}));while(r.size>0){var c=r;r=new Set,c.forEach((function(e){if(!o.has(e)){o.add(e);var t=i[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return o.forEach((function(t){var a=s(e,t);a&&n.definitions.push(a)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}}))})(),e.exports=n,e.exports["userFields"]=o(n,"userFields")},"559b":function(e,t,n){"use strict";var a=n("baae"),i=n.n(a);i.a},"581c":function(e,t,n){"use strict";var a=n("ac79"),i=n.n(a);i.a},"841c":function(e,t,n){"use strict";var a=n("d784"),i=n("825a"),s=n("1d80"),o=n("129f"),r=n("14c3");a("search",1,(function(e,t,n){return[function(t){var n=s(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,n):new RegExp(t)[e](String(n))},function(e){var a=n(t,e,this);if(a.done)return a.value;var s=i(e),c=String(this),l=s.lastIndex;o(l,0)||(s.lastIndex=0);var u=r(s,c);return o(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]}))},"9f7e":function(e,t,n){"use strict";var a=n("a2a3"),i=n.n(a);i.a},a15b:function(e,t,n){"use strict";var a=n("23e7"),i=n("44ad"),s=n("fc6a"),o=n("a640"),r=[].join,c=i!=Object,l=o("join",",");a({target:"Array",proto:!0,forced:c||!l},{join:function(e){return r.call(s(this),void 0===e?",":e)}})},a2a3:function(e,t,n){},a54e:function(e,t,n){},a766:function(e,t,n){"use strict";var a=n("da49"),i=n.n(a);i.a},ac79:function(e,t,n){},b7d2:function(e,t,n){},baae:function(e,t,n){},bb2f:function(e,t,n){var a=n("d039");e.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},ca00:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("ac1f"),n("5319");function a(e){return e.replace(/GraphQL error:/,"")}},da49:function(e,t,n){},dca8:function(e,t,n){var a=n("23e7"),i=n("bb2f"),s=n("d039"),o=n("861d"),r=n("f183").onFreeze,c=Object.freeze,l=s((function(){c(1)}));a({target:"Object",stat:!0,forced:l,sham:!i},{freeze:function(e){return c&&o(e)?c(r(e)):e}})},f183:function(e,t,n){var a=n("d012"),i=n("861d"),s=n("5135"),o=n("9bf2").f,r=n("90e3"),c=n("bb2f"),l=r("meta"),u=0,d=Object.isExtensible||function(){return!0},m=function(e){o(e,l,{value:{objectID:"O"+ ++u,weakData:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,l)){if(!d(e))return"F";if(!t)return"E";m(e)}return e[l].objectID},h=function(e,t){if(!s(e,l)){if(!d(e))return!0;if(!t)return!1;m(e)}return e[l].weakData},v=function(e){return c&&p.REQUIRED&&d(e)&&!s(e,l)&&m(e),e},p=e.exports={REQUIRED:!1,fastKey:f,getWeakData:h,onFreeze:v};a[l]=!0},f79b:function(e,t,n){"use strict";var a=n("b7d2"),i=n.n(a);i.a},f9eb:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"userCustoms"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userCustoms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zh_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"plural_name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:147}};n.loc.source={body:"query userCustoms {\n  userCustoms {\n    items {\n      id,\n      name,\n      zh_name,\n      plural_name\n    },\n    cursor {\n      total\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}var i={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}function o(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,r=new Set;a.forEach((function(e){r.add(e)}));while(r.size>0){var c=r;r=new Set,c.forEach((function(e){if(!o.has(e)){o.add(e);var t=i[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return o.forEach((function(t){var a=s(e,t);a&&n.definitions.push(a)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}}))})(),e.exports=n,e.exports["userCustoms"]=o(n,"userCustoms")},fb6a:function(e,t,n){"use strict";var a=n("23e7"),i=n("861d"),s=n("e8b5"),o=n("23cb"),r=n("50c4"),c=n("fc6a"),l=n("8418"),u=n("b622"),d=n("1dde"),m=n("ae40"),f=d("slice"),h=m("slice",{ACCESSORS:!0,0:0,1:2}),v=u("species"),p=[].slice,g=Math.max;a({target:"Array",proto:!0,forced:!f||!h},{slice:function(e,t){var n,a,u,d=c(this),m=r(d.length),f=o(e,m),h=o(void 0===t?m:t,m);if(s(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!s(n.prototype)?i(n)&&(n=n[v],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(d,f,h);for(a=new(void 0===n?Array:n)(g(h-f,0)),u=0;f<h;f++,u++)f in d&&l(a,u,d[f]);return a.length=u,a}})}}]);
//# sourceMappingURL=chunk-27c688f6.b10791a4.js.map